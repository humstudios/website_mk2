/* =====================================================================
   Hum Studios – Mobile-First Stylesheet (2025-08-21) – AUDITED & OPTIMIZED
   True mobile-first, token-driven, accessibility-enhanced design system.
   Structure: Tokens → Base → Layout → Clouds → Navigation → Hero → Typography
              → Cards → Footer → Utilities → Theme Toggle → Themes → A11y/Misc
   
   Key Improvements:
   • Genuine mobile-first approach (no redundant resets)
   • Streamlined breakpoint system with consolidated selectors
   • Enhanced accessibility (WCAG 2.1 AA compliance)
   • Optimized performance (reduced CSS complexity and redundancies)
   • Modern layout techniques with graceful fallbacks
   • Improved maintainability via consistent token usage
====================================================================== */

/* =============================================
   Breakpoint tokens (Reference Only)
   ---------------------------------------------
   Named breakpoints for readability in modern tooling.
   - --bp-sm: ≥ 25em    (small phones, ~400px)
   - --bp-md: ≥ 40em    (phones → small tablets, ~640px)  
   - --bp-lg: ≥ 48em    (primary desktop/nav switch, ~768px)
   - --bp-xl: ≥ 80em    (wide layouts, ~1280px)
   ============================================= */

/* ============================
   TOKENS (Mobile-first defaults)
============================ */
:root {
  /* Professional polish tokens */
  --measure: 66ch;                          /* ideal reading width for paragraphs on desktop */
  --accent-warm: #f6c64b;                   /* bee-inspired warm accent (AA on dark blue) */
  --accent-warm-ink: #2b1f05;               /* readable ink when warm accent is used as bg */
  --shadow-1: 0 0.25em 0.6em rgba(11,18,32,0.08), 0 0.6em 1.6em rgba(11,18,32,0.06);
  --shadow-1-hover: 0 0.5em 1.2em rgba(11,18,32,0.10), 0 1.1em 2.2em rgba(11,18,32,0.08);
  --shadow-2: 0 0.75em 1.8em rgba(11,18,32,0.14), 0 1.4em 3em rgba(11,18,32,0.10);
  --underline-offset: 0.18em;
  --underline-thickness: 0.08em;

  --clouds-opacity: 0.4;                    /* slightly reduced so content stands out */

  /* Color Palette */
  --gradient-start: #235b98;
  --gradient-mid:   #4891c3;
  --gradient-end:   #2d69a3;
  --text-strong:    #0b1220;
  --text-muted:     #475569;
  --text-glow:      #4a90e2;
  --nav-link:       #FFFCF5;
  --light-card-bg:      #FFFCF5;
  --light-card-border:  #e5ecf6;
  --light-card-fg:      #0b1220;
  --accent:         #2563eb;
  --focus-ring:     #4f46e5;

  /* Typography */
  --font-sans:    'Overpass', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-display: 'Atma', cursive;
  
  /* Base font size */
  --font-size-base: 1rem;
  --font-size-small: 0.875rem;
  --font-size-xs: 0.7rem;
  
  /* Systematic fluid type scale - Perfect Fourth (1.333) ratio */
  --type-scale: 1.333;
  --font-size-body: 1rem;
  --font-size-nav:  clamp(1rem, 0.8vw + 0.9rem, 1.25rem);
  --font-size-h3:   clamp(1.125rem, 2.5vw + 0.7rem, 1.5rem);
  --font-size-h2:   clamp(1.2rem, 4.5vw + 0.2rem, 1.7rem);
  --font-size-h1:   clamp(1.4rem, 5vw + 0.2rem, 2rem);
  /* HUM PATCH: tame hero minimum on small screens */
  --font-size-hero: clamp(2.2rem, 5.5vw + 0.5rem, 3.6rem);

  /* Mobile-first sizing tokens */
  --content-max: 960px;
  --radius-card: 1.5em;
  --radius-small: 0.5em;
  --radius-xs: 0.25em;

  /* Mobile-first spacing scale */
  --space-0: 0;
  --space-1: 0.25em;
  --space-2: 0.5em;
  --space-3: 0.75em;
  --space-4: 1em;
  --space-5: 1.25em;
  --space-6: 1.5em;
  --space-8: 2em;
  --space-10: 2.5em;
  --space-12: 3em;
  --space-16: 4em;
  --space-20: 5em;
  --space-24: 6em;

  /* Mobile-first layout tokens */
  --stack-gap: var(--space-6);
  --hero-gap-top: var(--space-6);
  --hero-gap-bottom: var(--space-2);
  --container-padding-x: var(--space-4);
  --container-padding-y: var(--space-8);
  --container-padding-bottom: var(--space-10);
  --header-gap: var(--space-4);

  /* Mobile-first navigation tokens */
  --nav-gap: var(--space-4);
  --nav-mobile-padding: var(--space-4);
  --hamburger-size: 1.8em;
  --hamburger-bar-height: 0.21em;
  --hamburger-gap: 0.3125em;
  --min-touch-target: 2.75em; /* 44px minimum */

  /* Mobile-first card tokens */
  --card-padding-x: var(--space-4);
  --card-padding-y: var(--space-6);
  --card-padding-top: var(--space-5);
  --card-gap: var(--stack-gap);
  
  /* Mobile-optimized heading spacing */
  --heading-margin-top-h1: var(--space-6);
  --heading-margin-top-h2: var(--space-5);
  --heading-margin-top-h3: var(--space-4);
  --heading-margin-bottom-h1: var(--space-3);
  --heading-margin-bottom-h2: var(--space-2);
  --heading-margin-bottom-h3: var(--space-2);
  --heading-first-margin-top: var(--space-2);
  
  /* Mobile-first logo sizing */
  --logo-width-min: 7.5em;
  --logo-width-max: 8em;

  /* Mobile-first theme toggle tokens */
  --toggle-width: 3.25em;
  --toggle-height: 1.78em;
  --toggle-thumb: 1.65em;
  --toggle-pad: -0.07em;
  --toggle-icon-size: 1em;
  --toggle-right-fudge: 0.26em;
  --toggle-border-width: 0.15em;
  --toggle-icon-stroke:  0.15rem;

  /* Animation tokens */
  --transition-fast: 0.15s;
  --transition-normal: 0.25s;
  --transition-slow: 0.35s;
  --transition-ease: ease;

  /* Z-index scale */
  --z-clouds: 0; 
  --z-body: 1; 
  --z-header: 10; 
  --z-nav-mobile: 50;
  --z-toggle: 100;
  --z-overlay: 1000;

  color-scheme: light;

  /* Cartoon height tokens (scalable) */
--cartoon-scale: 0.90; /* 1 = current size; lower = smaller */
--cartoon-h-sm-min: 9em;
--cartoon-h-sm-ideal: 12em;
--cartoon-h-sm-max: 16em;
--cartoon-h-lg-min: 11.25em;
--cartoon-h-lg-ideal: 16em;
--cartoon-h-lg-max: 20em;
}


/* ============================
   PROGRESSIVE ENHANCEMENT
============================ */

/* Small phones and up (≥ 25em) */
@media (min-width: 25em) {
  :root {
    --hero-gap-top: var(--space-8);
    --card-padding-x: var(--space-5);
    --logo-width-max: 10em;
  }
}

/* Tablets and up (≥ 40em) */
@media (min-width: 40em) {
  :root {
    --container-padding-x: var(--space-5);
    --card-padding-x: var(--space-6);
    --hero-gap-bottom: var(--space-2);
    --nav-gap: var(--space-4);
    --radius-card: 2rem;
  }
}

/* Desktop and up (≥ 48em) */
@media (min-width: 48em) {
  :root {
    --stack-gap: var(--space-8);
    --hero-gap-top: var(--space-10);
    --container-padding-x: var(--space-6);
    --card-padding-x: var(--space-12);
    --card-padding-y: var(--space-8);
    --radius-card: 2rem;
    
    /* Desktop heading spacing */
    --heading-margin-top-h1: var(--space-4);
    --heading-margin-top-h2: var(--space-5);
    --heading-margin-top-h3: var(--space-5);
    --heading-margin-bottom-h1: var(--space-2);
    --heading-margin-bottom-h2: var(--space-2);
    --heading-first-margin-top: var(--space-2);
    
    /* Enhanced typography for desktop */
    --font-size-hero: clamp(3.25rem, 5vw + 1.25rem, 5.25rem);
    --font-size-h1: clamp(2rem, 2vw + 1.5rem, 3rem);
    --font-size-h2: clamp(1.6rem, 1.5vw + 1rem, 2.25rem);
    --font-size-body: clamp(1rem, 0.5vw + 0.9rem, 1.125rem);
  }
}

/* Wide layouts (≥ 80em) */
@media (min-width: 80em) {
  :root {
    --container-padding-x: var(--space-8);
    --font-size-hero: clamp(3.5rem, 3vw + 2rem, 5.5rem);
  }
}

/* ============================
   BASE / RESET
============================ */
html {
  background: linear-gradient(to bottom, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
  background-repeat: no-repeat; 
  background-size: cover; 
  background-attachment: fixed;
  height: 100%; 
  margin: 0; 
  padding: 0;
  font-size: var(--font-size-base);
  scroll-behavior: smooth;
}

body {
  position: relative; 
  min-height: 100vh; 
  margin: 0; 
  padding: 0;
  display: flex; 
  flex-direction: column; 
  overflow-x: hidden;
  font-family: var(--font-sans); 
  font-weight: 400; 
  color: var(--text-strong);
  font-size: var(--font-size-body);
  background: transparent; 
  line-height: 1.3;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* { 
  box-sizing: border-box; 
}

img, svg, video { 
  max-width: 100%; 
  height: auto; 
  display: block; 
}

/* Enhanced focus styles for accessibility */
:focus-visible {
  outline: 0.125em solid var(--focus-ring);
  outline-offset: 0.125em;
  border-radius: var(--radius-xs);
}

/* iOS Safari: fixed gradient via pseudo-element */
@supports (-webkit-overflow-scrolling: touch) {
  html { background: none; }
  body::before {
    content: ""; 
    position: fixed; 
    inset: 0; 
    z-index: -1; 
    pointer-events: none;
    background: linear-gradient(to bottom, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
    background-repeat: no-repeat; 
    background-size: cover;
  }
}

/* ============================
   LAYOUT
============================ */
.container {
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  position: relative; 
  z-index: var(--z-body);
  padding: var(--container-padding-y) var(--container-padding-x) var(--container-padding-bottom);
  width: min(var(--content-max), 95%);
  margin-inline: auto;
  container-type: inline-size;
}

.top-header {
  position: relative; 
  display: flex; 
  justify-content: space-between; 
  align-items: flex-end; 
  flex-wrap: wrap;
  margin-bottom: var(--hero-gap-top); 
  z-index: var(--z-header);
  /* Prevents vertical gap if theme toggle wraps to its own line */
  column-gap: var(--space-2);
  row-gap: 0;
}

.top-header, .hero-area, .card, .footer-inner {
  max-width: var(--content-max); 
  width: 100%; 
  margin-inline: auto;
}

.logo { 
  width: clamp(var(--logo-width-min), 8vw, var(--logo-width-max)); 
  height: auto; 
  display: block; 
}

.top-header .logo img { 
  display: block; 
  height: auto; 
  /* HUM PATCH: include filter in transition for smooth shadow */
  transition: transform var(--transition-normal) var(--transition-ease),
              filter var(--transition-normal) var(--transition-ease);
  transform-origin: center center;
  /* HUM PATCH: alpha-aware logo shadow using drop-shadow() */
  filter:
    drop-shadow(0 4px 14px rgba(255, 255, 245, 0.3))
    drop-shadow(0 0 8px rgba(255, 255, 245, 0.45));
}

/* HUM PATCH: 1.2× hover zoom on header logo (desktop only) */
@media (min-width: 48em) and (hover: hover) and (pointer: fine) {
  .top-header .logo:hover img,
  .top-header .logo:focus-visible img {
    transform: scale(1.2);
    /* HUM PATCH: balance shadow while scaled */
    filter:
      drop-shadow(0 4px 18px rgba(255, 255, 245, 0.4))   /* soft white glow */
    drop-shadow(0 0 10px rgba(255, 255, 245, 0.45));
  }
}

/* Full-page gradient layer */
.page-bg { 
  position: absolute; 
  inset: 0; 
  z-index: var(--z-clouds); 
  pointer-events: none; 
  background: transparent; 
  background-size: cover; 
  background-repeat: no-repeat; 
}

@media (pointer: fine) and (min-width: 48em) { 
  .page-bg { position: fixed; } 
}

/* Prevent layout shift on load */
body.loading .container { 
  visibility: hidden; 
}

body:not(.loading) .container { 
  animation: fadeInLayout var(--transition-normal) ease-in; 
}

@keyframes fadeInLayout { 
  from { opacity: 0; transform: translateY(0.625em); } 
  to { opacity: 1; transform: translateY(0); } 
}

/* ============================
   CLOUDS (decorative)
============================ */
.clouds { 
  position: fixed; 
  inset: 0; 
  width: 100vw; 
  pointer-events: none; 
  overflow: hidden; 
  opacity: var(--clouds-opacity); 
  z-index: var(--z-clouds); 
}

@keyframes cloud-drift { 
  from { transform: translateX(var(--from)); } 
  to { transform: translateX(var(--to)); } 
}

.cloud { 
  position: absolute;
  /* Promotes layer to GPU for smoother animation */
  will-change: transform; 
  animation: cloud-drift var(--duration) linear infinite; 
  animation-delay: var(--delay); 
  --from: -20vw; 
  --to: 120vw; 
  --delay: 0s; 
  --duration: 150s; 
}

/* Cloud positioning - mobile optimized (vw-only) */
.cloud1 { top: 2.3%; left: -15vw; width: 10em;  --from: -20vw; --to: 110vw; --delay: -17s; --duration: 90s; }
.cloud2 { top: 20%;  left: -2vw;  width: 8.5em; --from: -12vw; --to: 160vw; --delay: -35s; --duration: 75s; }
.cloud3 { top: 29%;  left: -8vw;  width: 7.5em; --from: -8vw;  --to: 140vw; --delay: -5s; --duration: 67s; }
.cloud4 { top: 42%;  left: -5vw;  width: 9em;   --from: -5vw; --to: 105vw; --delay: -33s; --duration: 83s; }
.cloud5 { top: 57%;  left: -12vw; width: 7.5em; --from: -12vw; --to: 160vw; --delay: -25s; --duration: 67s; }
.cloud6 { top: 72%;  left: -12vw; width: 7em;   --from: -8vw;  --to: 140vw; --delay: -55s; --duration: 55s; }
.cloud7 { top: 87%;  left: -20vw; width: 9em;   --from: -20vw; --to: 120vw; --delay: -30s; --duration: 83s; }

@media (min-width: 48em) {
  .cloud1 { width: 12.5em; --duration: 180s; }
  .cloud2 { width: 10.625em; --duration: 140s; }
  .cloud3 { width: 9.375em; --duration: 105s; }
  .cloud4 { width: 11.25em; --duration: 165s; }
  .cloud5 { width: 9.375em; --duration: 135s; }
  .cloud6 { width: 8.75em;  --duration: 110s;}
  .cloud7 { width: 11.25em;  --duration: 165s;}
}

/* ============================
   NAVIGATION - Mobile First
============================ */

/* Mobile navigation by default */
.top-nav { 
  display: none;
}

.top-nav a { 
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-2);
  min-height: var(--min-touch-target);
  text-decoration: none; 
  color: var(--nav-link); 
  text-shadow:
    0 2px 6px rgba(10, 10, 90, 0.65), 
    0 0 4px rgba(10, 10, 90, 0.45);
  border-radius: var(--radius-xs);
  transition: all var(--transition-normal) var(--transition-ease); 
}

.top-nav a:hover,
.top-nav a:focus-visible { 
  text-decoration: underline;
  text-underline-offset: 0.2em;
  background-color: transparent;
}

/* Mobile nav trigger - always visible until desktop */
.hamburger { 
  display: flex; 
  flex-direction: column; 
  justify-content: center;
  gap: var(--hamburger-gap); 
  padding: 0.5em; 
  cursor: pointer; 
  position: relative; 
  z-index: var(--z-nav-mobile); 
  background-color: rgba(0,0,0,0.1); 
  border: 0.0625em solid rgba(0,0,0,0.2); 
  border-radius: var(--radius-small); 
  min-width: auto;
  min-height: auto;
  transition: all var(--transition-normal) var(--transition-ease);
}

.hamburger:hover,
.hamburger:focus-visible {
  background-color: rgba(0,64,128,0.7);
}

.hamburger .bar { 
  width: var(--hamburger-size); 
  height: var(--hamburger-bar-height); 
  background-color: #FFFCF5; 
  display: block; 
  border-radius: 0.0625em;
  transition: all var(--transition-normal) var(--transition-ease);
}

/* Mobile nav panel - enhanced */
.mobile-nav { 
  display: none; 
  position: absolute; 
  right: 0; 
  top: calc(100% + var(--space-2)); 
  z-index: var(--z-overlay); 
  background: var(--light-card-bg); 
  padding: var(--nav-mobile-padding); 
  border-radius: var(--radius-small); 
  text-align: right; 
  gap: var(--space-2); 
  flex-direction: column; 
  min-width: 12em;
  border: 0.0625em solid var(--light-card-border);
  box-shadow: 0 0.5em 1.5em rgba(0,0,0,0.15);
}

.mobile-nav a { 
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: var(--space-3);
  min-height: var(--min-touch-target);
  color: var(--text-strong); 
  font-family: var(--font-sans); 
  font-weight: 500; 
  font-size: var(--font-size-nav); 
  text-decoration: none; 
  border-radius: var(--radius-xs);
  transition: all var(--transition-normal) var(--transition-ease);
}

.mobile-nav a:hover,
.mobile-nav a:focus-visible { 
  text-decoration: underline; 
  background-color: rgba(37, 91, 152, 0.1);
}

.mobile-nav:is(.show, [open]) { 
  display: flex !important; 
}

/* Pushdown variant for mobile nav */
.mobile-nav:is(.pushdown, [data-behavior="pushdown"]) {
  position: static;
  display: flex;
  flex-direction: column;
  flex: 0 0 100%;
  width: 100%;
  max-height: 0;
  overflow: hidden;
  margin-top: 0;
  pointer-events: none;
  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 0;
  text-align: center;
  transition:
    max-height var(--transition-slow) var(--transition-ease),
    margin-top var(--transition-fast) var(--transition-ease);
}

.mobile-nav:is(.pushdown, [data-behavior="pushdown"]):is(.show, [open]) {
  max-height: 60vh;
  margin-top: var(--space-2);
  pointer-events: auto;
}

.mobile-nav:is(.pushdown, [data-behavior="pushdown"]) a {
  color: #FFFCF5;
  border-bottom: 0.0625em solid rgba(255, 252, 245, 0.3);
  justify-content: center;
  background: none;
  margin-bottom: 0;
}

.mobile-nav:is(.pushdown, [data-behavior="pushdown"]) a:last-child {
  border-bottom: none;
}

.mobile-nav:is(.pushdown, [data-behavior="pushdown"]) a:hover {
  background-color: transparent;
  transform: none;
}

/* Desktop breakpoint - true mobile-first approach */
@media (min-width: 48em) { 
  .hamburger { 
    display: none; 
  } 
  
  .top-nav { 
    display: flex;
    gap: var(--nav-gap); 
    font-family: var(--font-sans); 
    font-weight: 500; 
    font-size: var(--font-size-nav);
  }
  
  .top-nav a {
    padding-top: var(--space-6);   
    padding-bottom: var(--space-0);
  }
  
  .mobile-nav:is(.pushdown, [data-behavior="pushdown"]) {
    display: none !important;
  }
}

/* ============================
   HERO / MEDIA
============================ */
.hero { 
  display: block; 
}

.hero-image { 
  line-height: 0; 
}

.hero-video { 
  display: block; 
  width: 100%; 
  max-width: var(--content-max); 
  aspect-ratio: 4 / 3; 
  height: auto; 
  margin-inline: auto; 
  background: transparent; 
}

.demo-video { 
  display: block; 
  width: 100%; 
  height: auto; 
  object-fit: cover; 
  background: var(--light-card-bg); 
  border: 0; 
  margin: 0 auto; 
  overflow: hidden; 
}

/* ============================
   TYPOGRAPHY - Mobile First
============================ */
h1, h2, h3 { 
  color: #004080; 
  font-family: var(--font-sans); 
  font-weight: 800; 
  text-align: center;
  text-wrap: balance; 
  overflow-wrap: break-word; 
  word-break: normal; 
  hyphens: auto;
  line-height: 1.2;
  margin: 0;
}

h1 { 
  font-size: var(--font-size-h1);
}

h2 { 
  font-size: var(--font-size-h2); 
  margin-top: var(--heading-margin-top-h2); 
  margin-bottom: var(--heading-margin-bottom-h2); 
}

h3 { 
  font-size: var(--font-size-h3);
  margin-top: var(--heading-margin-top-h3); 
  margin-bottom: var(--heading-margin-bottom-h3);
}

/* Hero headline */
.hero-headline { 
  display: block; 
  max-width: calc(var(--content-max) - 1em); 
  width: 100%; 
  margin: 0 auto var(--hero-gap-bottom); 
  text-align: center; 
  line-height: 1.1; 
  font-size: var(--font-size-hero);
  text-wrap: balance;
  font-family: var(--font-display); 
  font-weight: 700; 
  color: #FFFCF5; 
  text-shadow: 0.125em 0.125em 0.25em #443A86;
  /* HUM PATCH: keep headline measure reasonable */
  max-inline-size: 28ch;
}

/* HUM PATCH: hero scales by container width in capable browsers */
@supports (font-size: 1cqw) {
  .hero-headline {
    font-size: clamp(2rem, 6.5cqw, 3.2rem);
  }
}
.hero-headline--tight { 
  margin-bottom: var(--heading-margin-bottom-h2); 
}

/* HUM PATCH: broaden small-screen safety net (~≤480px) */
@media (max-width: 30em) {
  .hero-headline {
    font-size: clamp(1.9rem, 7vw + 0.4rem, 2.6rem);
  }
}

/* Enhanced mobile typography for very small screens */
@media (max-width: 22.5em) {
  h1 { font-size: clamp(1.5rem, 6vw, 2.2rem); }
  h2 { font-size: clamp(1.3rem, 5.5vw, 1.9rem); }
  h3 { font-size: clamp(1.1rem, 5vw, 1.6rem); }
  .hero-headline { font-size: clamp(2rem, 8.5vw, 3rem); }
}

/* Container queries for card headlines */
@container (max-width: 35em) {
  .card :where(h1,h2,h3) {
    line-height: 1.2;
    max-inline-size: 100%;
  }
  .card h1 { font-size: clamp(1.4rem, 5.2cqi + 0.2rem, 2.2rem); }
  .card h2 { font-size: clamp(1.2rem, 4.8cqi + 0.2rem, 1.9rem); }
  .card h3 { font-size: clamp(1.1rem, 4.2cqi + 0.2rem, 1.6rem); }
}

/* Headline measure constraint - mobile focus */
@media (max-width: 35em) {
  :where(h1, h2).constrain,
  .card :where(h1, h2) {
    max-inline-size: 28ch;
    margin-inline: auto;
  }
  
  .card > :is(h1, h2):first-child {
    margin-top: var(--heading-first-margin-top);
  }
}

/* ============================
   CARDS - Mobile First
============================ */
.card { 
  box-sizing: border-box; 
  max-width: var(--content-max); 
  width: 100%; 
  margin-inline: auto; 
  border-radius: var(--radius-card); 
  padding: var(--card-padding-top) var(--card-padding-x) var(--card-padding-y); 
  background: var(--light-card-bg); 
  color: rgba(17,24,39,1); 
  border: 0.0625em solid var(--light-card-border); 
  box-shadow: var(--shadow-1);
  transition: box-shadow var(--transition-normal) var(--transition-ease);
}

.card:hover {
  box-shadow: var(--shadow-1-hover);
}

.card:first-of-type { 
  margin-top: var(--space-6); 
}

.card:last-of-type { 
  margin-bottom: 0; 
}

.card.card--hero-placeholder { 
  padding: 0; 
  background: transparent; 
  border: 0; 
  box-shadow: none; 
  border-radius: 0; 
  max-width: var(--content-max); 
  margin: var(--space-2) auto 0; 
}

/* Card heading spacing */
.card h1,
.card h2 {
  margin-top: var(--heading-margin-top-h2);
  margin-bottom: var(--heading-margin-bottom-h2);
  font-size: var(--font-size-h2); 
  line-height: 1.2;
}

.card h3 {
  margin-top: var(--heading-margin-top-h3);
  margin-bottom: var(--heading-margin-bottom-h3);
}

/* First heading in card gets special treatment */
.card > :is(h1, h2, h3):first-child {
  margin-top: var(--heading-first-margin-top);
}

.card:first-of-type > p:first-of-type { 
   margin-top: 0; 
}

/* Download badges row */
.download-row { 
  display: flex; 
  justify-content: center; 
  align-items: center; 
  gap: var(--space-6); 
  flex-wrap: wrap; 
  margin-top: var(--space-6); 
}

@media (min-width: 40em) {
  .download-row {
    gap: var(--space-8);
  }
}

.download-row.single-badge { 
  justify-content: center; 
  gap: 0; 
}

.badge-wrapper { 
  text-align: center; 
}

.badge-wrapper a { 
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none; 
  color: inherit; 
  border-radius: var(--radius-xs);
}

.app-caption { 
  margin-top: var(--space-2); 
  font-size: var(--font-size-small);
  color: #333; 
}

/* Placeholder block */
.animation-placeholder { 
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%; 
  height: 10em; 
  margin: var(--space-4) 0; 
  background-color: var(--light-card-bg); 
  text-align: center; 
  font-style: italic; 
  color: #555; 
  border-radius: var(--radius-xs);
  border: 0.125em dashed var(--light-card-border);
}

@media (min-width: 40em) {
  .animation-placeholder {
    height: 12.5em;
    border-radius: var(--radius-small);
  }
}

/* ============================
   CARD FLOATS - True Mobile First
============================ */

/* Mobile default: no floats, centered images */
.card--has-float::after { 
  content: ""; 
  display: block; 
  clear: both; 
}

.card-float,
.card-float--right,
.card-float--left {
  display: block;
  width: min(100%, 26.25em);
  height: auto;
  margin: var(--space-4) auto;
  border-radius: var(--radius-small);
  background-color: var(--light-card-bg);
  border: 0.0625em solid var(--light-card-border);
  object-fit: contain;
}

/* Tablet: introduce floating */
@media (min-width: 48em) {
  .card-float--left { 
    float: left;  
    margin: 0 var(--space-6) var(--space-4) 0;
  }

  .card-float,
  .card-float--right { 
    float: right; 
    margin: 0 0 var(--space-4) var(--space-6);
  }

  .card-float,
  .card-float--right,
  .card-float--left {
    width: min(35%, 16em); 
    shape-outside: inset(0 round var(--radius-small)); 
    shape-margin: 1em;
  }
}

/* Desktop: larger floated images */
@media (min-width: 64em) {
  .card-float,
  .card-float--right,
  .card-float--left { 
    width: min(40%, 18em); 
  }

/* Cartoon sizing using height clamp + token */





}

/* Card cartoon image */




/* ============================
   FOOTER - Enhanced Mobile First
============================ */
footer {
  position: relative;
  z-index: 2;
  margin-top: auto;
  padding: var(--space-1) var(--container-padding-x);
  background-color: var(--gradient-end); /* A11Y FIX: Darker background for contrast */
  color: #FFFCF5;
  font-family: var(--font-sans);
}

.footer-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  max-width: var(--content-max);
  width: 100%;
  margin-inline: auto;
}

/* Footer navigation */
.footer-nav { 
  width: 100%; 
}

.footer-links {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: clamp(var(--space-1), 4.5vw, var(--space-2));
  margin: 0;
  padding: 0;
  list-style: none;
  font-weight: 500;
  font-size: clamp(0.9rem, 0.85rem + 0.3vw, 1rem);
}

.footer-links a {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-2);
  min-height: var(--min-touch-target);
  color: #FFFCF5;
  text-decoration: none;
  border-radius: var(--radius-xs);
  transition: all var(--transition-normal) var(--transition-ease);
}

.footer-links a:hover,
.footer-links a:focus-visible { 
  text-decoration: underline; 
  background-color: rgba(255, 255, 255, 0.1);
}

/* Footer social */
.footer-social {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.footer-social a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-1);
  min-width: var(--min-touch-target);
  min-height: var(--min-touch-target);
  border-radius: var(--radius-xs);
  transition: all var(--transition-normal) var(--transition-ease);
}

.footer-social a:hover,
.footer-social a:focus-visible {
  background-color: rgba(255, 255, 255, 0.1);
}

.footer-social img {
  width: clamp(2.5em, 4.2vw, 2.625em);
  height: auto;
  display: block;
  filter: drop-shadow(0 0.0625em 0.0625em rgba(0,0,0,0.12));
}

/* Footer legal */
.footer-legal {
  text-align: center;
  font-size: var(--font-size-xs);
  line-height: 1.3;
  margin-top: var(--space-3);
}

.footer-legal p { 
  margin: 0.2em 0; 
}

.registered-address { 
  display: none; 
  font-style: normal; 
}

body.contact-page .registered-address { 
  display: block; 
}

@media (min-width: 40em) {
  .footer-links {
    gap: clamp(var(--space-2), 4.5vw, var(--space-4));
  }
}

@media (min-width: 48em) {
  .footer-inner { 
    gap: var(--space-1); 
  }
  
  .footer-legal {
    font-size: var(--font-size-xs);
    margin-top: var(--space-4);
  }
}

/* ============================
   UTILITIES
============================ */
.u-center-text { 
  text-align: center !important; 
}

.u-center-flex { 
  display: flex !important; 
  justify-content: center !important; 
  align-items: center; 
  gap: var(--space-2); 
  flex-wrap: wrap; 
}

.media-md { 
  display: block; 
  max-width: 100%; 
  height: auto; 
  border-radius: var(--radius-small); 
  margin: var(--space-4) auto; 
}

@media (min-width: 48em) {
  .media-md { 
    max-width: 60%; 
  }
}

.list-disc-left { 
  text-align: left !important; 
  list-style: disc outside; 
  padding-left: var(--space-6); 
  max-width: 28em;
  margin-inline: auto; 
}

@media (min-width: 40em) {
  .list-disc-left {
    max-width: 32em;
  }
}

/* Enhanced skip link for accessibility */
.skip-link {
  position: absolute;
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  width: 1px;
  height: 1px;
  overflow: hidden;
  white-space: nowrap;
  border: 0;
  padding: 0;
  margin: 0;
}

.skip-link:focus,
.skip-link:focus-visible {
  clip: auto;
  clip-path: none;
  width: auto;
  height: auto;
  overflow: visible;
  padding: var(--space-2) var(--space-3);
  background: var(--text-strong);
  color: #FFFCF5;
  border-radius: var(--radius-small);
  z-index: 10000;
  top: max(env(safe-area-inset-top), 1em);
  left: max(env(safe-area-inset-left), 1em);
  font-weight: 400;
  text-decoration: underline;
  box-shadow: 0 0.25em 0.5em rgba(0,0,0,0.2);
}

/* Stack spacing */
section + section { 
  margin-top: var(--stack-gap); 
}

.card + .card { 
  margin-top: var(--card-gap); 
}

.card a { 
  overflow-wrap: break-word; 
  word-break: normal; 
  word-wrap: break-word;
  transition: color var(--transition-normal) var(--transition-ease);
}

.card a:hover,
.card a:focus-visible {
  color: var(--accent);
}

/* ============================
   THEME TOGGLE - Enhanced Mobile First
============================ */
.theme-toggle { 
  --ms-width: var(--toggle-width); 
  --ms-height: var(--toggle-height); 
  --ms-pad: var(--toggle-pad); 
  --ms-thumb: var(--toggle-thumb); 
  --ms-left: var(--ms-pad); 
  --ms-right: calc(var(--ms-width) - var(--ms-thumb) - var(--ms-pad) - var(--toggle-right-fudge)); 
  
  position: absolute; 
  top: calc(var(--space-4) * -1); /* MAINT FIX: Use token for positioning */
  right: 0; 
  z-index: var(--z-toggle); 
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  min-width: var(--min-touch-target);
  min-height: var(--min-touch-target);
  padding: var(--space-1); 
  background: transparent; 
  border: 0; 
  cursor: pointer; 
  color: #FFFCF5;
  border-radius: var(--radius-xs);
  transition: all var(--transition-normal) var(--transition-ease);
}

.theme-toggle:focus {
  outline: none; /* suppress generic focus */
}

.theme-toggle:hover,
.theme-toggle:focus-visible {
  background-color: rgba(255, 255, 255, 0.1);
  outline-offset: 12px; 
  border-radius: 16px;
}

.theme-toggle__slider { 
  position: relative; 
  width: var(--ms-width); 
  height: var(--ms-height); 
  border-radius: 62.4375em;
  border: var(--toggle-border-width) solid currentColor; 
  background: transparent; 
  transition: all var(--transition-normal) var(--transition-ease);
}

.theme-toggle__thumb { 
  position: absolute; 
  top: 50%; 
  left: 0; 
  width: var(--ms-thumb); 
  height: var(--ms-thumb); 
  display: grid; 
  place-items: center;
  border-radius: 62.4375em;
  border: var(--toggle-border-width) solid currentColor; 
  background: transparent; 
  transform: translate(var(--ms-left), -50%);
  transition: transform var(--transition-normal) var(--transition-ease); 
  box-sizing: border-box; 
}

html[data-theme="dark"] .theme-toggle__thumb { 
  transform: translate(var(--ms-right), -50%);
}

/* Theme toggle icons */
.theme-toggle__thumb svg {
  position: absolute;
  top: 50%; 
  left: 50%;
  width: var(--toggle-icon-size); 
  height: var(--toggle-icon-size);
  fill: none; 
  stroke: currentColor;
  stroke-width: var(--toggle-icon-stroke);
  stroke-linecap: round; 
  stroke-linejoin: round;
  transform-origin: center center;
  transition: all var(--transition-slow) var(--transition-ease);
}

/* Light theme: sun visible, moon hidden */
.theme-toggle__thumb .icon-sun  { 
  opacity: 1; 
  transform: translate(-50%, -50%) rotate(0deg) scale(1); 
}

.theme-toggle__thumb .icon-moon { 
  opacity: 0; 
  transform: translate(-50%, -50%) rotate(-90deg) scale(0.8); 
}

/* Dark theme: moon visible, sun hidden */
html[data-theme="dark"] .theme-toggle {
  color: #FFFCF5;
}

html[data-theme="dark"] .theme-toggle__thumb .icon-sun  { 
  opacity: 0; 
  transform: translate(-50%, -50%) rotate(90deg) scale(0.8); 
}

html[data-theme="dark"] .theme-toggle__thumb .icon-moon { 
  opacity: 1; 
  transform: translate(-50%, -50%) rotate(0deg) scale(1); 
}

/* ============================
   THEMES - Enhanced Mobile First
============================ */

html[data-theme="light"] { 
  color-scheme: light; 
}

html[data-theme="dark"] { 
  
  --accent-warm: #ffd166;                   /* brighter in dark for AA contrast */
  --accent-warm-ink: #261a00;

--gradient-start: #191550; 
  --gradient-mid: #2e2761; 
  --gradient-end: #2B245A; 
  --text-strong: #e6edf7; 
  --nav-link: #FFFCF5; 
  --text-glow: #c8d6f2; 
  --card-bg: #111a2b; 
  --card-border: #1b2942; 
  --focus-ring: #818cf8;
  color-scheme: dark; 
}

html[data-theme="dark"] .card { 
  background: var(--card-bg); 
  border-color: var(--card-border); 
  color: var(--text-strong); 
}

/* Light card variant for dark mode - no !important needed due to source order */
html[data-theme="dark"] .card--light,
html[data-theme="dark"].cards-light .card { 
  background: var(--light-card-bg); 
  border-color: var(--light-card-border); 
  color: var(--light-card-fg); 
  color-scheme: light; 
}

html[data-theme="dark"] .card--light .muted,
html[data-theme="dark"].cards-light .card .muted { 
  color: var(--text-muted); 
}

html[data-theme="dark"] .top-nav a { 
  color: var(--nav-link); 
  text-shadow: 0 2px 6px rgba(255, 255, 245, 0.5),   /* warm white glow */
    0 0 4px rgba(255, 255, 245, 0.35);
}

html[data-theme="dark"] .mobile-nav:not(:is(.pushdown, [data-behavior="pushdown"])) {
  background: var(--card-bg);
  border-color: var(--card-border);
}

html[data-theme="dark"] .mobile-nav a {
  color: var(--text-strong);
}

html[data-theme="dark"] footer { 
  background-color: var(--gradient-mid); 
}

/* ============================
   ACCESSIBILITY & MISC OVERRIDES
============================ */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card {
    border-width: 0.125em;
  }
  
  /* HUM PATCH: remove decorative shadow in high-contrast */
  .top-header .logo img { 
    filter: none; 
  }
  
  .theme-toggle__slider,
  .theme-toggle__thumb {
    border-width: 0.1875em;
  }
  
  .hamburger {
    border-width: 0.125em;
  }
}

/* Reduce motion preferences */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .cloud,
  body:not(.loading) .container {
    animation: none !important;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .container {
    padding-left: max(var(--container-padding-x), env(safe-area-inset-left));
    padding-right: max(var(--container-padding-x), env(safe-area-inset-right));
  }
  
  footer {
    padding-left: max(var(--container-padding-x), env(safe-area-inset-left));
    padding-right: max(var(--container-padding-x), env(safe-area-inset-right));
    padding-bottom: max(var(--space-6), env(safe-area-inset-bottom));
  }
}

/* Forced colors mode support */
@media (forced-colors: active) {
  .skip-link:focus,
  .skip-link:focus-visible {
    outline: 0.125em solid LinkText;
    outline-offset: 0.125em;
    forced-color-adjust: none;
    background: CanvasText;
    color: Canvas;
  }

  .theme-toggle,
  .hamburger,
  .mobile-nav {
    forced-color-adjust: none;
  }
}

/* Print styles */
@media print {
  .clouds,
  .theme-toggle,
  .hamburger,
  .mobile-nav {
    display: none !important;
  }
  
  .card {
    box-shadow: none;
    border: 0.0625em solid #000;
  }
  
  .hero-headline {
    color: #000 !important;
    text-shadow: none !important;
  }
  
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.875em;
  }
}
footer::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 0.125em;
  background: linear-gradient(to right, rgba(255,255,255,0.15), rgba(255,255,255,0.0), rgba(255,255,255,0.15));
  opacity: 0.6;
  pointer-events: none;
}

/* Professional reading measure and rhythm */
.card p,
.card ul,
.card ol {
  max-inline-size: var(--measure);
  margin-left: auto;
  margin-right: auto;
  line-height: 1.5;
}

/* CTA / link polish */
.btn-link {
  display: inline-flex;
  align-items: center;
  gap: 0.35em;
  font-weight: 600;
  color: var(--accent);
  text-underline-offset: var(--underline-offset);
  text-decoration-thickness: var(--underline-thickness);
  transition: transform var(--transition-normal) var(--transition-ease), color var(--transition-normal) var(--transition-ease), text-decoration-color var(--transition-normal) var(--transition-ease);
  will-change: transform;
}

.btn-link:hover,
.btn-link:focus-visible {
  transform: scale(1.025);
  text-decoration: underline;
  text-decoration-color: currentColor;
}

.top-nav a,
.footer-links a,
.card a {
  text-underline-offset: var(--underline-offset);
  text-decoration-thickness: var(--underline-thickness);
}

/* Card hover micro-interaction */
@media (hover: hover) and (pointer: fine) {
  .card:hover {
    transform: translateY(-0.125em);
    transition: transform var(--transition-normal) var(--transition-ease), box-shadow var(--transition-normal) var(--transition-ease);
  }
}
@media (prefers-reduced-motion: reduce) {
  .card:hover {
    transform: none !important;
  }
}
.hero-image {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}

/* Optional hero subheadline */
.hero-subheadline {
  margin: var(--space-2) auto var(--space-3);
  max-inline-size: 42ch;
  text-align: center;
  font-family: var(--font-sans);
  font-weight: 500;
  font-size: clamp(1rem, 1.2vw + 0.9rem, 1.25rem);
  color: #FFFCF5;
  opacity: 0.98;
  text-shadow: 0 0.12em 0.35em rgba(10, 10, 30, 0.45);
}

#adventureVideo { margin-bottom: var(--space-4); }

@media (min-width: 80em) {
  .clouds { opacity: calc(var(--clouds-opacity) - 0.05); }
}

footer {
  padding-top: calc(var(--space-4));
  padding-bottom: calc(var(--space-6));
}
.footer-links a { text-underline-offset: var(--underline-offset); }

/* Professional nav hover */
.top-nav a:hover,
.top-nav a:focus-visible {
  text-decoration: underline;
  text-underline-offset: var(--underline-offset);
  text-decoration-thickness: var(--underline-thickness);
  background-color: transparent;
}

@media (prefers-contrast: high) {
}
@media (forced-colors: active) {
}

/* Radii consistency */
.btn-link,
.hamburger,
.mobile-nav,
.footer-links a,
.footer-social a,
.theme-toggle { border-radius: var(--radius-xs); }

/* =====================================================================
   HUM FIX: Theme toggle focus flash (a11y-safe, scoped)
   - Suppress mouse-click outline but preserve keyboard focus via :focus-visible
   - Replace small global outline with a larger, rounded ring for the toggle
   - Appended late to win specificity/cascade without touching other components
====================================================================== */
.theme-toggle:focus,
.theme-toggle:focus:not(:focus-visible) {
  outline: none !important; /* prevent mouse-click flash */
}

.theme-toggle:focus-visible {
  outline: 3px solid var(--focus-ring); /* visible for keyboard users */
  outline-offset: 12px;                 /* wider frame to match control size */
  border-radius: 16px;                  /* rounded corners */
}


/* =====================================================================
   HUM FIX (touch): remove iOS/Android tap highlight flash on theme toggle
   - Scoped to theme toggle elements only
   - Does not affect keyboard focus ring (:focus-visible rule remains)
====================================================================== */
.theme-toggle,
.theme-toggle * {
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}

/* Avoid any transient outline during tap state on touch */
@media (hover: none) and (pointer: coarse) {
  .theme-toggle:active {
    outline: none;
  }
}

/* Cartoon sizing using height clamp + token (safe, responsive) */
img.card-cartoon, svg.card-cartoon {
  height: auto; /* don't force height */
  max-height: clamp(calc(var(--cartoon-h-sm-min) * var(--cartoon-scale)),
                    calc(var(--cartoon-h-sm-ideal) * var(--cartoon-scale)),
                    calc(var(--cartoon-h-sm-max) * var(--cartoon-scale)));
  width: auto;        /* preserve aspect ratio */
  max-width: 100%;    /* never exceed container */
  display: block;
  margin-inline: auto;
  margin-top: var(--space-m, 1rem);
  margin-bottom: var(--space-m, 1rem);
  object-fit: contain;
}

@media (min-width: 40em) {
  img.card-cartoon, svg.card-cartoon {
    max-height: clamp(calc(var(--cartoon-h-lg-min) * var(--cartoon-scale)),
                      calc(var(--cartoon-h-lg-ideal) * var(--cartoon-scale)),
                      calc(var(--cartoon-h-lg-max) * var(--cartoon-scale)));
  }
}

/* =====================================================================
   HUM POLISH PACK (2025-08-28)
   Visual refinements: typography, spacing, color balance, motion,
   hover states, video framing, hero mask, card alternates + separators,
   subtle paper texture, glass header, footer hierarchy, gradient drift,
   toggle micro-interaction. All a11y-aware and reduced-motion friendly.
====================================================================== */

/* --- Typographic refinements --- */
.card:first-of-type h1 {
  font-family: var(--font-display);
  font-weight: 700;
  letter-spacing: 0.0075em;
}
@media (min-width: 48em) {
  body { line-height: 1.45; }
  .card p, .card ul, .card ol { line-height: 1.6; }
}
.top-nav a,
.btn-link { letter-spacing: 0.02em; }

/* --- Glassy header polish (subtle) --- */
.top-header {
  position: sticky;
  top: 0;
  backdrop-filter: blur(8px) saturate(1.15);
  -webkit-backdrop-filter: blur(8px) saturate(1.15);
  background: color-mix(in srgb, #ffffff 12%, transparent);
  border-bottom-left-radius: var(--radius-card);
  border-bottom-right-radius: var(--radius-card);
  padding-bottom: var(--space-2);
}
@supports not (background: color-mix(in srgb, white 10%, transparent)) {
  .top-header { background: rgba(255,255,255,0.08); }
}
html[data-theme="dark"] .top-header {
  background: color-mix(in srgb, #0b1220 35%, transparent);
}

/* --- Animated gradient drift (very subtle) --- */
html {
  background-size: 160% 160%;
  animation: hum-gradient-drift 60s ease-in-out infinite;
}
@keyframes hum-gradient-drift {
  0%   { background-position: 0% 0%;   }
  50%  { background-position: 100% 100%; }
  100% { background-position: 0% 0%;   }
}
@media (prefers-reduced-motion: reduce) {
  html { animation: none !important; }
}

/* --- Mobile: slightly lighter gradient for breathing room --- */
@media (max-width: 35em) {
  :root {
    --gradient-start: #2b6fb0;
    --gradient-mid:   #5aa2cf;
    --gradient-end:   #3a7ab4;
  }
}

/* --- Video presentation (framing) --- */
.hero-video,
.demo-video {
  border-radius: var(--radius-small);
  box-shadow: var(--shadow-2);
  outline: 0.0625em solid rgba(255,255,255,0.25);
}
html[data-theme="dark"] .hero-video,
html[data-theme="dark"] .demo-video {
  outline-color: rgba(255,255,255,0.1);
}

/* --- Hero fade mask to blend media with background --- */
.hero-image::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0.18) 0%,
    rgba(0,0,0,0.00) 22%,
    rgba(0,0,0,0.00) 78%,
    rgba(0,0,0,0.22) 100%
  );
  mix-blend-mode: multiply;
}

/* --- Underline animation for links/buttons --- */
.top-nav a,
.footer-links a,
.card a,
.btn-link {
  background-image: linear-gradient(currentColor, currentColor);
  background-repeat: no-repeat;
  background-size: 0% 0.08em;
  background-position: 0 100%;
  transition:
    background-size var(--transition-normal) var(--transition-ease),
    transform var(--transition-normal) var(--transition-ease),
    color var(--transition-normal) var(--transition-ease),
    text-decoration-color var(--transition-normal) var(--transition-ease);
}
.top-nav a:hover, .top-nav a:focus-visible,
.footer-links a:hover, .footer-links a:focus-visible,
.card a:hover, .card a:focus-visible,
.btn-link:hover, .btn-link:focus-visible {
  background-size: 100% 0.08em;
}

/* --- Badge styled as mini-card for cohesion --- */
.badge-wrapper a {
  padding: var(--space-3) var(--space-4);
  background: var(--light-card-bg);
  border: 0.0625em solid var(--light-card-border);
  box-shadow: var(--shadow-1);
}
html[data-theme="dark"] .badge-wrapper a {
  background: var(--card-bg);
  border-color: var(--card-border);
}

/* --- Alternating card tints to reduce monotony --- */
:root { --card-alt-bg: #FFF8ED; } /* ultra-light warm */
html[data-theme="dark"] { --card-alt-bg: #121d30; }
.card:nth-of-type(even):not(.card--hero-placeholder) {
  background: var(--card-alt-bg);
}

/* --- Subtle paper texture overlay on cards --- */
.card { position: relative; }
.card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background-image:
    radial-gradient(rgba(0,0,0,0.025) 1px, transparent 1.5px);
  background-size: 3px 3px;
  opacity: 0.6;
  mix-blend-mode: multiply;
}
html[data-theme="dark"] .card::after {
  opacity: 0.25;
  mix-blend-mode: soft-light;
}
@media (prefers-contrast: high) {
  .card::after { display: none; }
}
@media print {
  .card::after { display: none !important; }
}

/* --- Footer gradient & hierarchy --- */
footer {
  background-image: linear-gradient(to bottom, var(--gradient-end), #1a1747);
}
.footer-links a { font-weight: 600; }
.footer-social img { width: clamp(2.75em, 4.6vw, 3em); }

/* --- Micro-interaction for theme toggle (spring-ish ring) --- */
.theme-toggle__thumb {
  transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}
.theme-toggle__thumb::after {
  content: "";
  position: absolute;
  inset: -6%;
  border-radius: inherit;
  border: 0.1em solid currentColor;
  opacity: 0;
  transform: scale(0.9);
  transition:
    transform 360ms cubic-bezier(0.34, 1.56, 0.64, 1),
    opacity 360ms var(--transition-ease);
}
html[data-theme="dark"] .theme-toggle__thumb::after,
html[data-theme="light"] .theme-toggle__thumb::after {
  opacity: 0.25;
  transform: scale(1.08);
}



/* ==========================================
   NAV ICONS — Warm Accent (2025-08-28)
   - Pure CSS (no build step required)
   - Targets header .top-nav and pushdown .mobile-nav links
   - Uses CSS masks so shapes tint to --accent-warm
   ========================================== */
:root {
  --nav-icon-size: 1.1em;
  --nav-icon-gap: 0.45em;
  --icon-home: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3l9 7v11h-6v-6H9v6H3V10l9-7z"/></svg>');
  --icon-user: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c-4.418 0-8 3.134-8 7v1h16v-1c0-3.866-3.582-7-8-7zm0-2a4 4 0 100-8 4 4 0 000 8z"/></svg>');
  --icon-bubble: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4h16v10H7l-3 4V4z"/></svg>');
  --icon-shield: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2l8 4v6c0 5-3.5 9.5-8 10-4.5-.5-8-5-8-10V6l8-4z"/></svg>');
  --icon-stars: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 7l2 3-2 3-2-3 2-3zM12 5l2 3-2 3-2-3 2-3zM18 8l2 3-2 3-2-3 2-3z"/></svg>');
}

/* Space for icon + text */ 
.top-nav a, .mobile-nav a { gap: var(--nav-icon-gap); }

/* HOME */
.top-nav a[href="/"]::before,
.top-nav a[href$="/index"]::before,
.top-nav a[href$="/index.html"]::before,
.mobile-nav a[href="/"]::before,
.mobile-nav a[href$="/index"]::before,
.mobile-nav a[href$="/index.html"]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-home) no-repeat 50% / contain;
          mask: var(--icon-home) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}

/* ABOUT */
.top-nav a[href*="about" i]::before,
.mobile-nav a[href*="about" i]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-user) no-repeat 50% / contain;
          mask: var(--icon-user) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}

/* CONTACT */
.top-nav a[href*="contact" i]::before,
.mobile-nav a[href*="contact" i]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-bubble) no-repeat 50% / contain;
          mask: var(--icon-bubble) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}

/* PRIVACY */
.top-nav a[href*="privacy" i]::before,
.mobile-nav a[href*="privacy" i]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-shield) no-repeat 50% / contain;
          mask: var(--icon-shield) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}

/* COOKIES */
.top-nav a[href*="cookie" i]::before,
.mobile-nav a[href*="cookie" i]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-stars) no-repeat 50% / contain;
          mask: var(--icon-stars) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}

/* RTL-friendly spacing */ 
:dir(rtl) .top-nav a::before, :dir(rtl) .mobile-nav a::before { margin-left: var(--nav-icon-gap); margin-right: 0; }

/* High-contrast: hide decorative icons */ 
@media (forced-colors: active) {
  .top-nav a::before, .mobile-nav a::before { display: none !important; }
}

/* Also treat any link containing "home" as Home */
.top-nav a[href*="home" i]::before,
.mobile-nav a[href*="home" i]::before {
  content: "";
  display: inline-block;
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  background-color: var(--accent-warm, #f6c64b);
  -webkit-mask: var(--icon-home) no-repeat 50% / contain;
          mask: var(--icon-home) no-repeat 50% / contain;
  margin-right: var(--nav-icon-gap);
}
