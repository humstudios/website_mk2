<!DOCTYPE html>
<html class="cards-light" lang="en">
<head>
  <!--
    =============================================
    THEME (early paint)
    - Respect stored 'display-mode' (auto | light | dark)
    - Default to 'auto' (system preference) if unset
    - Apply before first paint to avoid flash
    =============================================
  -->
  <script>
  (function () {
    var h = document.documentElement;
    var prefersDark = false;
    try { prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches; } catch (e) {}
    try {
      var mode = localStorage.getItem('display-mode') || 'auto'; // auto|light|dark only
      var theme = (mode === 'auto')
        ? (prefersDark ? 'dark' : 'light')
        : (mode === 'dark' ? 'dark' : 'light');
      h.setAttribute('data-theme', theme);
      // Clean up any legacy keys/classes from earlier builds
      localStorage.removeItem('theme-preference');
      h
    } catch (e) {
      // If storage is blocked, fall back to system preference
      h.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
    }
  })();
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Hum Studios | Contact</title>
  <meta name="description" content="Contact Hum Studios for questions about our interactive stories and digital picture books." />

  <!-- Color scheme & theme colors for browser UI -->
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFCF5" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)"  content="#0b1220" />

  <!-- Favicons (all relative for GH Pages, IONOS, and local) -->
  <link rel="icon" type="image/svg+xml" href="assets/img/icons/favicon.svg" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/icons/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="assets/img/icons/favicon-192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/img/icons/apple-touch-icon-180.png" />
  <link rel="mask-icon" href="assets/img/icons/safari-pinned-tab.svg" color="#1d4ed8" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atma:wght@700&family=Overpass:wght@400;500;800&display=swap" rel="stylesheet">

  <!-- Canonical + Open Graph/Twitter (safe for GH/local/IONOS) -->
  <link id="canonical" rel="canonical" href="https://www.humstudios.com/contact.html" />
  <meta property="og:title" content="Hum Studios | Contact" />
  <meta property="og:description" content="Contact Hum Studios for questions about our interactive stories and digital picture books." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.humstudios.com/contact.html" />



<script>
  // Set canonical and social URLs to the current absolute HTTP(S) location.
  (function () {
    try {
      var isHttp = /^https?:$/.test(window.location.protocol);
      if (!isHttp) return; // avoid file:// canonicals during local file preview
      var abs = window.location.origin + window.location.pathname;
      var c  = document.getElementById('canonical');
      if (c) c.setAttribute('href', abs);
      var ou = document.getElementById('og-url');
      if (ou) ou.setAttribute('content', abs);
      var oi = document.getElementById('og-image');
      var ti = document.getElementById('tw-image');
      var imgAbs = new URL('assets/img/logos/Weblogo01.png', abs).href;
      if (oi) oi.setAttribute('content', imgAbs);
      if (ti) ti.setAttribute('content', imgAbs);
    } catch (e) {}
  })();
  </script>

  <!-- Site styles -->
  <link rel="stylesheet" href="assets/css/styles.css" />

  <!-- Includes loader: injects header/footer marked with [data-include] -->
  <script defer src="assets/js/includes.js"></script>

  <style>
    /* a11y helper */
    .visually-hidden {
      position: absolute !important;
      width: 1px; height: 1px;
      margin: -1px; padding: 0; border: 0;
      clip: rect(0 0 0 0); clip-path: inset(50%);
      overflow: hidden; white-space: nowrap;
    }
    .form-error { color: #b00020; margin-top: 0.25rem; }

    /* Form styling (consolidated for maintainability) */
    label { display:block; margin-top: 0.75rem; font-weight: 400; }
    .input, .textarea {
      width: 100%;
      padding: 1rem;
      margin-top: 0.5rem;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,.15);
      background: rgba(255,255,255,.7);
    }
    [data-theme="dark"] .input, [data-theme="dark"] .textarea {
      background: rgba(0,0,0,.3);
      border-color: rgba(255,255,255,.2);
    }
    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 16px;
      background: #4891c3;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 1rem;
    }

    /* Respect reduced-motion preferences */
    @media (prefers-reduced-motion: reduce) {
      .clouds img { animation: none !important; }
    }
  </style>
</head>
<body class="contact-page">
  <a class="skip-link" href="#main">Skip to content</a>

  <!-- Decorative clouds (purely visual) -->
  <div data-include="partials/clouds.html"></div>

  <div class="container">
    <header role="banner" data-include="partials/header.html"></header>

    <main id="main" role="main">
      <section class="card">
        <h1>Contact Us</h1>
        <img class="card-cartoon"
     src="assets/img/cardpics/Jess_wave.webp"
     alt="Jessie waves hello">
        <p>If you have any questions about our apps or stories, or if you need support, please use the form below. We’ll get back to you as soon as possible.</p>

        <!--
          FORM ACTION (relative for IONOS/local; GH Pages only for testing)
          - Set to './contact' which your server maps to an email handler.
          - No mailto fallback by design (production will always have a backend).
        -->
        <form id="contactForm" method="POST" action="./contact" novalidate>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="you@example.com"
                 autocomplete="email" required aria-describedby="email-error" class="input">
          <div id="email-error" class="visually-hidden form-error" role="alert" aria-live="polite"></div>

          <label for="name">Name</label>
          <input id="name" name="name" type="text" placeholder="Your name"
                 autocomplete="name" required aria-describedby="name-error" class="input">
          <div id="name-error" class="visually-hidden form-error" role="alert" aria-live="polite"></div>

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="12" required
                    aria-describedby="message-error" class="textarea"></textarea>
          <div id="message-error" class="visually-hidden form-error" role="alert" aria-live="polite"></div>

          <!-- Honeypot -->
          <div style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;">
            <label for="website">Leave this field empty</label>
            <input type="text" id="website" name="website" tabindex="-1" autocomplete="off" />
          </div>

          <!-- reCAPTCHA (keep; ensure site key allows your domains) -->
          <div class="g-recaptcha" data-sitekey="6LctAJIrAAAAADDbemJJAjvo6OLMdu_Ad3LuRsF7" style="margin:1rem 0;"></div>
          <div id="recaptcha-error" class="visually-hidden form-error" role="alert" aria-live="polite"></div>

          <button type="submit" class="btn">Send Message</button>
        </form>
      </section>
    </main>
  </div>

  <footer role="contentinfo" data-include="partials/footer.html"></footer>

  <!-- External scripts -->
  <script async defer src="https://www.google.com/recaptcha/api.js"></script>

  <script>
  // Client-side validation (accessible)
  document.addEventListener('DOMContentLoaded', function(){
    var form = document.getElementById('contactForm');
    if (!form) return;

    function setError(id, msg){
      var field = id && document.getElementById(id);
      var err = document.getElementById((id ? id : 'recaptcha') + '-error');
      if (id && !field) return;
      if (!err) return;
      if (msg){
        if (field) field.setAttribute('aria-invalid', 'true');
        err.textContent = msg;
        err.classList.remove('visually-hidden');
      } else {
        if (field) field.removeAttribute('aria-invalid');
        err.textContent = '';
        err.classList.add('visually-hidden');
      }
    }

    function validateField(field){
      var id = field.id;
      var v = (field.value || '').trim();
      if (id === 'email'){
        if (!v){ setError(id, 'Please enter your email address.'); return false; }
        var ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
        if (!ok){ setError(id, 'Please enter a valid email address.'); return false; }
        setError(id, ''); return true;
      }
      if (id === 'name'){
        if (!v){ setError(id, 'Please enter your name.'); return false; }
        setError(id, ''); return true;
      }
      if (id === 'message'){
        if (!v){ setError(id, 'Please enter your message.'); return false; }
        setError(id, ''); return true;
      }
      return true;
    }

    function validateCaptcha(){
      try {
        if (window.grecaptcha && typeof grecaptcha.getResponse === 'function') {
          var response = grecaptcha.getResponse();
          if (!response) { setError(null, 'Please complete the CAPTCHA.'); return false; }
        }
      } catch(e) { /* ignore if recaptcha not available */ }
      setError(null, ''); return true;
    }

    ['email','name','message'].forEach(function(id){
      var el = document.getElementById(id);
      if (el){
        el.addEventListener('blur', function(){ validateField(el); });
        el.addEventListener('input', function(){ validateField(el); });
      }
    });

    form.addEventListener('submit', function(e){
      var ok = true;
      ['email','name','message'].forEach(function(id){
        var el = document.getElementById(id);
        if (el){ ok = validateField(el) && ok; }
      });
      ok = validateCaptcha() && ok;

      if (!ok){
        e.preventDefault();
        var first = document.querySelector('[aria-invalid="true"]');
        if (first) first.focus();
      }
      // NOTE: No mailto fallback — production uses a real backend.
    });
  });
  </script>

  <script>
  // Typography nicety: keep last two words together in headings without touching inner markup
  document.addEventListener('DOMContentLoaded', function () {
    function widont(selector) {
      document.querySelectorAll(selector).forEach(function (el) {
        if (el.childElementCount > 0) return; // avoid clobbering inline markup
        var t = (el.textContent || '').trim();
        var i = t.lastIndexOf(' ');
        if (i > -1) {
          el.innerHTML = t.slice(0, i) + '&nbsp;' + t.slice(i + 1);
        }
      });
    }
    widont('h1, h2');
  });
  </script>

  <!-- Site scripts (deferred) -->
  <script defer src="assets/js/theme-toggle.clean.js"></script>
  <script defer src="assets/js/hum-menu.clean.js"></script>
  <script defer src="assets/js/widont.js"></script>
</body>
</html>
